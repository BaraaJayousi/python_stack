{% extends 'main_layout.html' %}
{% block title %}Courses{% endblock %}
{% block heading %}Add a new course{% endblock %}

{% block content %}
<form class="mb-5" action="{% url 'add_course' %}" method="post">
    {% csrf_token %}
    {% if messages %}
    <ul>
        {% for message in messages %}
        <li class="text-danger">{{message}}</li>
        {% endfor %}
    </ul>
    {% endif %}
    <div class="row mb-3">
        <label for="course_name" class="col-form-label col-1">Name:</label>
        <div class="col-5">
            <input type="text" name="course_name" id="course_name" class="form-control" required>
        </div>
    </div>
    <div class="row mb-3">
        <label for="course_desc" class="col-form-label col-1">Description:</label>
        <div class="col-5">
            <textarea name="course_desc" id="course_desc" cols="30" rows="5" class="form-control" style="resize: none;" required></textarea>
        </div>
    </div>
    <div class="row mb-3 ">
        <div class="col-1 offset-5">
            <input class="btn btn-primary w-100" type="submit" value="Add">
        </div>
    </div>
</form>

<div class="row mb-5">
    <h1 class="mb-3">Courses</h1>

    <table class="table table-striped table-hover">
        <thead>
            <th>Course Name</th>
            <th>Description</th>
            <th>Date Added</th>
            <th>Actions</th>
        </thead>
        {% for course in courses %}
        <tr>
            <td>{{course.name}}</td>
            <td>{{course.description}}</td>
            <td>{{course.created_at}}</td>
            <td>
                <a href="{% url 'destroy_course' course_id=course.id %}" class="btn btn-danger">Remove</a>
            </td>
        </tr>
        {% endfor %}
    </table>
</div>
{% endblock %}